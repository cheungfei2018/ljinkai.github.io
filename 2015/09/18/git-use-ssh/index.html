<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>git使用ssh密钥 | ljinkai</title>
  <meta name="author" content="ljinkai">
  
  <meta name="description" content="书写一些web前端技术相关的文章，还有个人思考方面的文章，以及一些好玩有趣的内容，努力工作，拼命生活。">
  
  
  <meta name="keywords" content="ljinkai,前端开发,博客,javascript,css3,html5,node.js,">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="git使用ssh密钥"/>
  <meta property="og:site_name" content="ljinkai"/>

  
    <meta property="og:image" content="undefined"/>
  

  <meta name="google-site-verification" content="iIzqxT8FAfRGM8f4sr97VvjhDsk3QJQ-a2LMdn0DtXU" />

  <link href="/favicon.png" rel="icon">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="alternate" href="/atom.xml" title="ljinkai" type="application/atom+xml">
  <link rel="stylesheet" href="/css/styleNew.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">ljinkai</a></h1>
  <h2><a href="/">Brave &amp; Discover &amp; Move</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/2015/03/13/DemoHub/">Demo</a></li>
    
      <li><a href="/2015/03/01/link-friends/">Link</a></li>
    
      <li><a href="/2015/02/28/new/">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-09-18T06:50:08.000Z"><a href="/2015/09/18/git-use-ssh/">Sep 18 2015</a>
          
        </time>
      
      
  
    <h1 class="title">git使用ssh密钥</h1>
  

    </header>
    <div class="entry">
      
        <p><code>git使用https协议，每次pull, push都要输入密码，相当的烦。
使用git协议，然后使用ssh密钥。这样可以省去每次都输密码。</code></p>
<p>大概需要三个步骤：<br>一、本地生成密钥对；<br>二、设置github上的公钥；<br>三、修改git的remote url为git协议。</p>
<a id="more"></a>
<h1 id="一、生成密钥对。"><a href="#一、生成密钥对。" class="headerlink" title="一、生成密钥对。"></a>一、生成密钥对。</h1><p>大多数 Git 服务器都会选择使用 SSH 公钥来进行授权。系统中的每个用户都必须提供一个公钥用于授权，没有的话就要生成一个。生成公钥的过程在所有操作系统上都差不多。首先先确认一下是否已经有一个公钥了。SSH 公钥默认储存在账户的主目录下的 ~/.ssh 目录。进去看看：</p>
<pre><code>$ cd ~/.ssh
$ ls
authorized_keys2  id_dsa       known_hosts config            id_dsa.pub
</code></pre><p>关键是看有没有用 something 和 something.pub 来命名的一对文件，这个 something 通常就是 id_dsa 或 id_rsa。有 .pub 后缀的文件就是公钥，另一个文件则是密钥。假如没有这些文件，或者干脆连 .ssh 目录都没有，可以用 ssh-keygen 来创建。该程序在 Linux/Mac 系统上由 SSH 包提供，而在 Windows 上则包含在 MSysGit 包里：</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;

Creates a new ssh key using the provided email # Generating public/private rsa key pair.

Enter file in which to save the key (/home/you/.ssh/id_rsa):
</code></pre><p>直接Enter就行。然后，会提示你输入密码，如下(建议输一个，安全一点，当然不输也行)：<br>Enter passphrase (empty for no passphrase): [Type a passphrase]</p>
<pre><code>Enter same passphrase again: [Type passphrase again]
</code></pre><p>完了之后，大概是这样。<br>Your identification has been saved in /home/you/.ssh/id_rsa.</p>
<pre><code>Your public key has been saved in /home/you/.ssh/id_rsa.pub.
The key fingerprint is: # 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@youremail.com
</code></pre><p>这样。你本地生成密钥对的工作就做好了。</p>
<h1 id="二、添加公钥到你的github帐户"><a href="#二、添加公钥到你的github帐户" class="headerlink" title="二、添加公钥到你的github帐户"></a>二、添加公钥到你的github帐户</h1><p>1、查看你生成的公钥：大概如下：</p>
<pre><code>$ cat ~/.ssh/id_rsa.pub

ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlE
LEVf4h9lFX5QVkbPppSwg0cda3 Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA t3FaoJoAsncM1Q9x5+3V
0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx NrRFi9wrf+M7Q== schacon@agadorlaptop.local
</code></pre><p>2、登陆你的github帐户。然后 <code>Account Settings -&gt; 左栏点击 SSH Keys -&gt; 点击 Add SSH key</code><br>3、然后你复制上面的公钥内容，粘贴进“Key”文本域内。 title域，你随便填一个都行。<br>4、完了，点击 Add key。</p>
<p>这样，就OK了。然后，验证下这个key是不是正常工作。</p>
<pre><code>$ ssh -T git@github.com

Attempts to ssh to github
</code></pre><p>如果，看到：</p>
<pre><code>Hi username! You&apos;ve successfully authenticated, but GitHub does not # provide shell access.
</code></pre><p>就表示你的设置已经成功了。</p>
<h1 id="三、修改你本地的ssh-remote-url-不用https协议，改用git-协议"><a href="#三、修改你本地的ssh-remote-url-不用https协议，改用git-协议" class="headerlink" title="三、修改你本地的ssh remote url. 不用https协议，改用git 协议"></a>三、修改你本地的ssh remote url. 不用https协议，改用git 协议</h1><p>可以用git remote -v 查看你当前的remote url</p>
<pre><code>$ git remote -v
origin https://github.com/someaccount/someproject.git (fetch)
origin https://github.com/someaccount/someproject.git (push)
</code></pre><p>可以看到是使用https协议进行访问的。</p>
<p>你可以使用浏览器登陆你的github，在上面可以看到你的ssh协议相应的url。类似如下：</p>
<pre><code>git@github.com:someaccount/someproject.git
</code></pre><p>这时，你可以使用 git remote set-url 来调整你的url。</p>
<pre><code>git remote set-url origin git@github.com:someaccount/someproject.git
</code></pre><p>完了之后，你便可以再用 <code>git remote -v</code> 查看一下。</p>
<p>OK。</p>
<p>至此，OK。</p>
<p>你可以用git fetch, git pull , git push， 现在进行远程操作，应该就不需要输入密码那么烦了。</p>
<p>参考：<br><a href="https://help.github.com/articles/caching-your-github-password-in-git/#platform-linux" target="_blank" rel="external">Caching your GitHub password in Git</a></p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/Tools/">Tools</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/Tools/">Tools</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="ads" style="padding: 0px 20px 0px 20px;margin-top: -25px;margin-bottom: 20px;position: relative;text-align: center;">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- article_bottom -->
    <ins class="adsbygoogle"
         style="display:inline-block;width:728px;height:90px"
         data-ad-client="ca-pub-3671825610688339"
         data-ad-slot="2963848809"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</section>




<section id="comment">
    <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    <script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
    <script>
        var cloudTieConfig = {
            url: document.location.href,
            sourceId: "",
            productKey: "a65a1e5ea58d4c3a8ea1fef77d0371db",
            target: "cloud-tie-wrapper"
        };
        var yunManualLoad = true;
        Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
    </script>

</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="widget tag">
  <h3 class="title">About</h3>
  <ul class="entry">
    <li>前端工程师一枚，这是我个人的Blog。记录一些web端的技术、发现，和对生活、人生的思考。</li>
    <li>微博：<a href="http://weibo.com/jieyingbei" target="_blank" onclick="ga('send', 'event', 'widget_about', 'weibo')">凯凯刘</a></li>
    <li>微信公众号：<br>[前端开发知识] - HTML5、CSS3、JS、Node.js</li>
    <li><img src='http://7u2qrr.com1.z0.glb.clouddn.com/h5_qrcode_for_gh_0fd5deb0e08b_430.jpg' width='160px' style="margin-left: -10px;display: block;"></li>
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/CSS3/">CSS3</a><small>1</small></li>
  
    <li><a href="/categories/Demo/">Demo</a><small>1</small></li>
  
    <li><a href="/categories/Discover/">Discover</a><small>27</small></li>
  
    <li><a href="/categories/HTML5/">HTML5</a><small>4</small></li>
  
    <li><a href="/categories/Info/">Info</a><small>1</small></li>
  
    <li><a href="/categories/JS/">JS</a><small>7</small></li>
  
    <li><a href="/categories/Summary/">Summary</a><small>4</small></li>
  
    <li><a href="/categories/Think/">Think</a><small>4</small></li>
  
    <li><a href="/categories/Tools/">Tools</a><small>4</small></li>
  
    <li><a href="/categories/木工/">木工</a><small>2</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/API/">API</a><small>1</small></li>
  
    <li><a href="/tags/CSS3/">CSS3</a><small>1</small></li>
  
    <li><a href="/tags/Demo/">Demo</a><small>1</small></li>
  
    <li><a href="/tags/Discover/">Discover</a><small>21</small></li>
  
    <li><a href="/tags/HTML5/">HTML5</a><small>4</small></li>
  
    <li><a href="/tags/JS/">JS</a><small>8</small></li>
  
    <li><a href="/tags/Markdown/">Markdown</a><small>1</small></li>
  
    <li><a href="/tags/Node-js/">Node.js</a><small>1</small></li>
  
    <li><a href="/tags/Tools/">Tools</a><small>7</small></li>
  
    <li><a href="/tags/个人/">个人</a><small>1</small></li>
  
    <li><a href="/tags/前端/">前端</a><small>16</small></li>
  
    <li><a href="/tags/变现/">变现</a><small>1</small></li>
  
    <li><a href="/tags/思考/">思考</a><small>4</small></li>
  
    <li><a href="/tags/木工/">木工</a><small>2</small></li>
  
    <li><a href="/tags/汇总/">汇总</a><small>1</small></li>
  
    <li><a href="/tags/设计/">设计</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015-2017 ljinkai
  
  &nbsp;&nbsp;&nbsp;&nbsp;Powered by <a href="http://hexo.io/">Hexo</a>
</div>
<div class="clearfix"></div>

<!--<script>-->
    <!--var _hmt = _hmt || [];-->
    <!--(function() {-->
        <!--var hm = document.createElement("script");-->
        <!--hm.src = "//hm.baidu.com/hm.js?1e92fed8a761c1224623815e3b960447";-->
        <!--var s = document.getElementsByTagName("script")[0];-->
        <!--s.parentNode.insertBefore(hm, s);-->
    <!--})();-->
<!--</script>-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-85358197-2', 'auto');
    ga('send', 'pageview');

</script>


</footer>
  <!--<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>-->
<!--<script src="<- config.root >js/jquery.imagesloaded.min.js"></script>-->
<!--<script src="<- config.root >js/gallery.js"></script>-->




</body>
</html>